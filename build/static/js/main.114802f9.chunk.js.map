{"version":3,"sources":["components/layout/Layout.module.scss","components/news/News.module.scss","pages/Index.module.scss","components/news-list/NewsList.module.scss","pages/NewsPage.module.scss","components/layout/Layout.jsx","components/news/News.jsx","components/news-list/NewsList.jsx","pages/Index.jsx","pages/News.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["module","exports","Layout","title","children","className","s","layout","layout__header","layout__main","layout__footer","to","apiUrl","process","News","category","allNews","console","log","useState","loading","setLoading","error","setError","data","setData","useEffect","a","main","type","id","url","concat","fetch","result","status","ok","Error","json","fetchData","news","length","articles","items","slice","news__container","news__list","map","link","news__item","NewsList","Index","undefined","filter","index","i","NewsPage","useParams","NotFound","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.114802f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__2LT01\",\"layout__header\":\"Layout_layout__header__gIY9I\",\"layout__main\":\"Layout_layout__main__1OOUg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news__container\":\"News_news__container__3N3La\",\"news__list\":\"News_news__list__1rbG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"index\":\"Index_index__MT32l\",\"index__list\":\"Index_index__list___jQBt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"NewsList_news__1wYbs\",\"news__list\":\"NewsList_news__list__3p-J_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news__list\":\"NewsPage_news__list__4zwCu\",\"news__container\":\"NewsPage_news__container__2DrJr\"};","import {  Link } from 'react-router-dom';\r\n\r\nimport s from './Layout.module.scss';\r\n\r\nexport function Layout({ title, children }) {\r\n    // TODO setja upp layout fyrir vef\r\n    return ( <div className={s.layout}>\r\n      <header className={s.layout__header}>\r\n        <h1>{title}</h1>\r\n      </header>\r\n      <main className={s.layout__main}>\r\n        {children}\r\n      </main>\r\n      <footer className={s.layout__footer}>\r\n        <hr/>\r\n        <p>Fréttir frá <Link to={`https://RUV.is`}>RÚV</Link></p>\r\n      </footer>\r\n    </div> );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {  Link } from 'react-router-dom';\r\n\r\nimport s from './News.module.scss';\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nNews.propTypes = {\r\n  category: PropTypes.string,\r\n  allNews: PropTypes.bool,\r\n}\r\n\r\nexport function News({ category, allNews = false}) {\r\n  console.log(category)\r\n   // TODO sækja fréttir fyrir flokk\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState(null);\r\n   const [data, setData] = useState(false);\r\n \r\n   useEffect(() => {\r\n     async function fetchData() {\r\n       setLoading(true);\r\n       setError(null);\r\n       \r\n       let json;\r\n \r\n       const main = apiUrl\r\n       const type = category.id || category\r\n       const url = main.concat(type)\r\n       console.log('url', apiUrl )\r\n       try { \r\n         const result = await fetch(url);\r\n\r\n         console.log(result.status)\r\n         if (result.status === 404){\r\n           \r\n           setError(404);\r\n           return;\r\n         }\r\n         if (!result.ok){\r\n           throw new Error('Gögn ekki í lagi')\r\n         }\r\n        \r\n\r\n         json = await result.json();\r\n         console.log(json)\r\n       } catch (e) {\r\n         setError('Gat ekki sótt gögn.');\r\n         return;\r\n       } finally {\r\n         setLoading(false);\r\n       }\r\n\r\n      setData(json);\r\n       console.log(json)\r\n     }\r\n     fetchData();\r\n   }, [category, allNews]);\r\n\r\n   if (404){\r\n     \r\n   }\r\n   if (error) {\r\n    return (\r\n      <p>Villa kom upp: {error}</p>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <p>Sæki gögn...</p>\r\n    );\r\n  }\r\n  let news = data || [];\r\n  if (news.length === 0){\r\n    console.log('wtf')\r\n    return( \r\n      <p>Villa kom upp! </p>\r\n      )\r\n    }\r\n\r\n  let articles = news.items \r\n  console.log(allNews)\r\n  if(!allNews){\r\n    articles = news.items.slice(0, 5)\r\n  }\r\n\r\n return(\r\n  <div className={s.news__container}>\r\n    <h2>{news.title}</h2>\r\n    <ul className={s.news__list}> \r\n     {news.items.length === 0 && (\r\n       <li>Engar fréttir</li>\r\n     )}\r\n     {articles.length > 0 && articles.map(({title, link}) => {\r\n        return (\r\n        <li className={s.news__item}><Link to={link}>{title}</Link></li>\r\n          )\r\n     })}\r\n   </ul>\r\n   <p>\r\n        {!allNews ? <Link to={category.id}>Allar fréttir</Link> : <Link to=\"/\">Tilbaka</Link> }\r\n      </p> \r\n  </div>\r\n )\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { News } from '../news/News';\r\n\r\nimport s from './NewsList.module.scss';\r\n\r\nNewsList.propTypes = {\r\n  category: PropTypes.string,\r\n  allNews: PropTypes.bool\r\n}\r\n\r\nexport function NewsList({ category, allNews}) {\r\n\r\n  return(// TODO sækja yfirlit fréttaflokka\r\n    <div className={s.news}>\r\n      <News category={category} allNews={allNews} />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { NewsList } from '../components/news-list/NewsList';\r\n\r\nimport s from './Index.module.scss';\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nIndex.propTypes = {\r\n\r\n  id: PropTypes.string,\r\n  allNews: PropTypes.bool\r\n}\r\n\r\nexport function Index({ id = undefined, allNews = false }) {\r\n    // TODO útfæra yfirlitssíðu\r\n  \r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [data, setData] = useState(false);\r\n  \r\n    useEffect(() => {\r\n      async function fetchData() {\r\n        setLoading(true);\r\n        setError(null);\r\n  \r\n        let json;\r\n  \r\n        const url = apiUrl\r\n        console.log(url)\r\n        try { \r\n          const result = await fetch(url);\r\n\r\n          if (!result.ok){\r\n            throw new Error('Gögn ekki í lagi')\r\n          }\r\n\r\n          json = await result.json();\r\n\r\n        } catch (e) {\r\n          setError('Gat ekki sótt gögn.');\r\n          return;\r\n        } finally {\r\n          console.log('setLoading False')\r\n          setLoading(false);\r\n        }\r\n\r\n        setData(json);\r\n      }\r\n      fetchData();\r\n    }, [id, allNews]);\r\n  \r\n    if (error) {\r\n      return (\r\n        <p>Villa kom upp: {error}</p>\r\n      );\r\n    }\r\n  \r\n    if (loading) {\r\n      return (\r\n        <p>Sæki gögn...</p>\r\n      );\r\n    }\r\n    let news = data || [];\r\n \r\n    if(id){\r\n      news = news.filter((category) => {\r\n        console.log('filter', category)\r\n        return category.id === id\r\n      });\r\n      if(news.length === 0){\r\n\r\n      }\r\n    }\r\n    return (\r\n      <section className={s.index}>\r\n        {news.length === 0 && (\r\n          <div className={s.news__container}>\r\n            <h2>Not Found</h2>\r\n          </div>\r\n        )}{news.length > 0 && news.map((news, i) => {\r\n          return (\r\n            <NewsList \r\n              key={i}\r\n              category={news}\r\n              allNews={allNews}\r\n            />\r\n          )\r\n        })}\r\n      \r\n      </section>\r\n    );\r\n}\r\n\r\n","import { Index } from './Index';\r\nimport { News } from '../components/news/News'\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport s from './NewsPage.module.scss';\r\n\r\nexport function NewsPage() {\r\n    const { id } = useParams();\r\n\r\n    return (\r\n        <section className={s.news}> \r\n            <News category={id} allNews={true} />\r\n        </section>\r\n    )\r\n}","\r\nexport function NotFound() {\r\n  return (\r\n    <div> \r\n      <h2>\r\n        404 fannst ekki \r\n      </h2>\r\n    </div>\r\n  )\r\n}\r\n","// TODO sækja og setja upp react router\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport { Layout } from './components/layout/Layout';\r\n\r\nimport { Index } from './pages/Index';\r\nimport { NewsPage } from './pages/News';\r\nimport { NotFound } from './pages/NotFound';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Layout title=\"RÚV Fréttir\">\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Index} />\r\n        <Route path=\"/:id\" component={NewsPage} />\r\n        <Route component={NotFound} />\r\n      </Switch> \r\n    </Layout>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport App from './App';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}