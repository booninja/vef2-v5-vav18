(this["webpackJsonpvef2-2021-v5-synilausn"]=this["webpackJsonpvef2-2021-v5-synilausn"]||[]).push([[0],{12:function(e,t,n){e.exports={layout:"Layout_layout__2LT01",layout__header:"Layout_layout__header__gIY9I",layout__main:"Layout_layout__main__1OOUg"}},14:function(e,t,n){e.exports={news__container:"News_news__container__3N3La",news__list:"News_news__list__1rbG3"}},19:function(e,t,n){e.exports={index:"Index_index__MT32l",index__list:"Index_index__list___jQBt"}},23:function(e,t,n){e.exports={news:"NewsList_news__1wYbs",news__list:"NewsList_news__list__3p-J_"}},24:function(e,t,n){e.exports={news__list:"NewsPage_news__list__4zwCu",news__container:"NewsPage_news__container__2DrJr"}},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),c=n(21),a=n.n(c),i=n(7),l=n(2),o=n(12),u=n.n(o),j=n(1);function _(e){var t=e.title,n=e.children;return Object(j.jsxs)("div",{className:u.a.layout,children:[Object(j.jsx)("header",{className:u.a.layout__header,children:Object(j.jsx)("h1",{children:t})}),Object(j.jsx)("main",{className:u.a.layout__main,children:n}),Object(j.jsxs)("footer",{className:u.a.layout__footer,children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Fr\xe9ttir fr\xe1 ",Object(j.jsx)(i.b,{to:"https://RUV.is",children:"R\xdaV"})]})]})]})}var b=n(10),h=n.n(b),d=n(13),x=n(8),p=n(14),f=n.n(p),O="https://vef2-2021-ruv-rss-json-proxy.herokuapp.com/";function w(e){var t=e.category,n=e.allNews,r=void 0!==n&&n;console.log(t);var c=Object(s.useState)(!1),a=Object(x.a)(c,2),l=a[0],o=a[1],u=Object(s.useState)(null),_=Object(x.a)(u,2),b=_[0],p=_[1],w=Object(s.useState)(!1),v=Object(x.a)(w,2),g=v[0],m=v[1];if(Object(s.useEffect)((function(){function e(){return(e=Object(d.a)(h.a.mark((function e(){var n,s,r,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),p(null),s=O,r=t.id||t,c=s.concat(r),console.log("url",O),e.prev=6,e.next=9,fetch(c);case 9:if(a=e.sent,console.log(a.status),404!==a.status){e.next=14;break}return p(404),e.abrupt("return");case 14:if(a.ok){e.next=16;break}throw new Error("G\xf6gn ekki \xed lagi");case 16:return e.next=18,a.json();case 18:n=e.sent,console.log(n),e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(6),p("Gat ekki s\xf3tt g\xf6gn."),e.abrupt("return");case 26:return e.prev=26,o(!1),e.finish(26);case 29:m(n),console.log(n);case 31:case"end":return e.stop()}}),e,null,[[6,22,26,29]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),b)return Object(j.jsxs)("p",{children:["Villa kom upp: ",b]});if(l)return Object(j.jsx)("p",{children:"S\xe6ki g\xf6gn..."});var k=g||[];if(0===k.length)return console.log("wtf"),Object(j.jsx)("p",{children:"Villa kom upp! "});var y=k.items;return console.log(r),r||(y=k.items.slice(0,5)),Object(j.jsxs)("div",{className:f.a.news__container,children:[Object(j.jsx)("h2",{children:k.title}),Object(j.jsxs)("ul",{className:f.a.news__list,children:[0===k.items.length&&Object(j.jsx)("li",{children:"Engar fr\xe9ttir"}),y.length>0&&y.map((function(e){var t=e.title,n=e.link;return Object(j.jsx)("li",{className:f.a.news__item,children:Object(j.jsx)(i.b,{to:n,children:t})})}))]}),Object(j.jsx)("p",{children:r?Object(j.jsx)(i.b,{to:"/",children:"Tilbaka"}):Object(j.jsx)(i.b,{to:t.id,children:"Allar fr\xe9ttir"})})]})}var v=n(23),g=n.n(v);function m(e){var t=e.category,n=e.allNews;return Object(j.jsx)("div",{className:g.a.news,children:Object(j.jsx)(w,{category:t,allNews:n})})}var k=n(19),y=n.n(k),N="https://vef2-2021-ruv-rss-json-proxy.herokuapp.com/";function S(e){var t=e.id,n=void 0===t?void 0:t,r=e.allNews,c=void 0!==r&&r,a=Object(s.useState)(!1),i=Object(x.a)(a,2),l=i[0],o=i[1],u=Object(s.useState)(null),_=Object(x.a)(u,2),b=_[0],p=_[1],f=Object(s.useState)(!1),O=Object(x.a)(f,2),w=O[0],v=O[1];if(Object(s.useEffect)((function(){function e(){return(e=Object(d.a)(h.a.mark((function e(){var t,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),p(null),n=N,console.log(n),e.prev=4,e.next=7,fetch(n);case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("G\xf6gn ekki \xed lagi");case 10:return e.next=12,s.json();case 12:t=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(4),p("Gat ekki s\xf3tt g\xf6gn."),e.abrupt("return");case 19:return e.prev=19,console.log("setLoading False"),o(!1),e.finish(19);case 23:v(t);case 24:case"end":return e.stop()}}),e,null,[[4,15,19,23]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,c]),b)return Object(j.jsxs)("p",{children:["Villa kom upp: ",b]});if(l)return Object(j.jsx)("p",{children:"S\xe6ki g\xf6gn..."});var g=w||[];return n&&(g=g.filter((function(e){return console.log("filter",e),e.id===n}))).length,Object(j.jsxs)("section",{className:y.a.index,children:[0===g.length&&Object(j.jsx)("div",{className:y.a.news__container,children:Object(j.jsx)("h2",{children:"Not Found"})}),g.length>0&&g.map((function(e,t){return Object(j.jsx)(m,{category:e,allNews:c},t)}))]})}var L=n(24),E=n.n(L);function V(){var e=Object(l.f)().id;return Object(j.jsx)("section",{className:E.a.news,children:Object(j.jsx)(w,{category:e,allNews:!0})})}function G(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"404 fannst ekki"})})}function I(){return Object(j.jsx)(_,{title:"R\xdaV Fr\xe9ttir",children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:S}),Object(j.jsx)(l.a,{path:"/:id",component:V}),Object(j.jsx)(l.a,{component:G})]})})}n(36);a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(I,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.114802f9.chunk.js.map